import React,{memo,useCallback,useEffect,useRef}from"react";import{Layer,Image}from"react-konva";import{StyledFilterItem,FilterItemPreview,FilterItemLabel}from"./Filters.styled";var FILTER_PREVIEW_WIDTH=60,FILTER_PREVIEW_HEIGHT=45,FilterItem=function(a){var b=a.filterLabel,c=a.filterFn,d=a.applyFilter,e=a.isActive,f=a.image,g=useRef(),h=useCallback(function(){d(c)},[c]),i=useCallback(function(){g.current?g.current.cache():setTimeout(i,0)},[]);return useEffect(function(){return f&&i(),function(){var a;null===(a=g.current)||void 0===a?void 0:a.clearCache()}},[f]),React.createElement(StyledFilterItem,{className:"FIE_filters-item",onClick:h,"aria-selected":e},React.createElement(FilterItemPreview,{className:"FIE_filters-item-preview",width:FILTER_PREVIEW_WIDTH,height:FILTER_PREVIEW_HEIGHT},React.createElement(Layer,{onTap:h},React.createElement(Image,{image:f,filters:c?[c]:[],width:FILTER_PREVIEW_WIDTH,height:FILTER_PREVIEW_HEIGHT,x:0,y:0,ref:g}))),React.createElement(FilterItemLabel,{className:"FIE_filters-item-label"},b))};FilterItem.defaultProps={filterFn:void 0};export default memo(FilterItem);